{"ast":null,"code":"import axios from \"axios\";\nimport { PROFILES_LOADED, PROFILES_ERROR, HISTORY_LOADED, HISTORY_ERROR, TRANSFER_SUCCESS, TRANSFER_ERROR } from \"./types\";\nexport const loadProfile = () => async dispatch => {\n  try {\n    const res = await axios.get('/api/allUsers');\n    dispatch({\n      type: PROFILES_LOADED,\n      payload: res.data\n    });\n  } catch (error) {\n    dispatch({\n      type: PROFILES_ERROR,\n      payload: {\n        msg: error,\n        status: error.response.status\n      }\n    });\n  }\n};\nexport const loadHistory = () => async dispatch => {\n  try {\n    const res = await axios.get('/api/history');\n    dispatch({\n      type: HISTORY_LOADED,\n      payload: res.data\n    });\n  } catch (error) {\n    dispatch({\n      type: HISTORY_ERROR,\n      payload: {\n        msg: error,\n        status: error.response.status\n      }\n    });\n  }\n};\nexport const transfer = ({\n  From,\n  To,\n  amount\n}, history) => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({\n    From,\n    To,\n    amount\n  });\n  try {\n    const res = await axios.post('/api/transaction', body, config);\n    dispatch({\n      type: TRANSFER_SUCCESS,\n      payload: res.data\n    });\n    history.push('/profile');\n    alert(`${res.data}`);\n  } catch (error) {\n    dispatch({\n      type: TRANSFER_ERROR,\n      payload: {\n        msg: error.response.statusText,\n        status: error.response.status\n      }\n    });\n  }\n};","map":{"version":3,"names":["axios","PROFILES_LOADED","PROFILES_ERROR","HISTORY_LOADED","HISTORY_ERROR","TRANSFER_SUCCESS","TRANSFER_ERROR","loadProfile","dispatch","res","get","type","payload","data","error","msg","status","response","loadHistory","transfer","From","To","amount","history","config","headers","body","JSON","stringify","post","push","alert","statusText"],"sources":["D:/Bank-mgmt-system/src/actions/profile.js"],"sourcesContent":["import axios from \"axios\";\nimport { PROFILES_LOADED, PROFILES_ERROR, HISTORY_LOADED, HISTORY_ERROR, TRANSFER_SUCCESS, TRANSFER_ERROR } from \"./types\";\n\nexport const loadProfile = () => async dispatch => {\n    try{\n        const res = await axios.get('/api/allUsers')\n        dispatch({\n            type: PROFILES_LOADED,\n            payload: res.data\n        })\n    }catch(error){\n        dispatch({\n            type: PROFILES_ERROR,\n            payload: { msg: error, status: error.response.status }\n        })\n    }\n}\n\nexport const loadHistory = () => async dispatch => {\n    try{\n        const res = await axios.get('/api/history')\n        dispatch({\n            type: HISTORY_LOADED,\n            payload: res.data\n        })\n    }catch(error){\n        dispatch({\n            type: HISTORY_ERROR,\n            payload: { msg: error, status: error.response.status }\n        })\n    }\n}\n\nexport const transfer = ({From, To, amount}, history) => async dispatch => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n    const body = JSON.stringify({From, To, amount})\n    try{\n        const res = await axios.post('/api/transaction', body, config)\n        dispatch({\n            type: TRANSFER_SUCCESS,\n            payload: res.data\n        })\n        history.push('/profile')\n        alert(`${res.data}`)\n    }catch(error){\n        dispatch({\n            type: TRANSFER_ERROR,\n            payload: { msg: error.response.statusText, status: error.response.status }\n        })\n    }\n\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,eAAe,EAAEC,cAAc,EAAEC,cAAc,EAAEC,aAAa,EAAEC,gBAAgB,EAAEC,cAAc,QAAQ,SAAS;AAE1H,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM,MAAMC,QAAQ,IAAI;EAC/C,IAAG;IACC,MAAMC,GAAG,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,eAAe,CAAC;IAC5CF,QAAQ,CAAC;MACLG,IAAI,EAAEV,eAAe;MACrBW,OAAO,EAAEH,GAAG,CAACI;IACjB,CAAC,CAAC;EACN,CAAC,QAAMC,KAAK,EAAC;IACTN,QAAQ,CAAC;MACLG,IAAI,EAAET,cAAc;MACpBU,OAAO,EAAE;QAAEG,GAAG,EAAED,KAAK;QAAEE,MAAM,EAAEF,KAAK,CAACG,QAAQ,CAACD;MAAO;IACzD,CAAC,CAAC;EACN;AACJ,CAAC;AAED,OAAO,MAAME,WAAW,GAAGA,CAAA,KAAM,MAAMV,QAAQ,IAAI;EAC/C,IAAG;IACC,MAAMC,GAAG,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,cAAc,CAAC;IAC3CF,QAAQ,CAAC;MACLG,IAAI,EAAER,cAAc;MACpBS,OAAO,EAAEH,GAAG,CAACI;IACjB,CAAC,CAAC;EACN,CAAC,QAAMC,KAAK,EAAC;IACTN,QAAQ,CAAC;MACLG,IAAI,EAAEP,aAAa;MACnBQ,OAAO,EAAE;QAAEG,GAAG,EAAED,KAAK;QAAEE,MAAM,EAAEF,KAAK,CAACG,QAAQ,CAACD;MAAO;IACzD,CAAC,CAAC;EACN;AACJ,CAAC;AAED,OAAO,MAAMG,QAAQ,GAAGA,CAAC;EAACC,IAAI;EAAEC,EAAE;EAAEC;AAAM,CAAC,EAAEC,OAAO,KAAK,MAAMf,QAAQ,IAAI;EACvE,MAAMgB,MAAM,GAAG;IACXC,OAAO,EAAE;MACL,cAAc,EAAE;IACpB;EACJ,CAAC;EACD,MAAMC,IAAI,GAAGC,IAAI,CAACC,SAAS,CAAC;IAACR,IAAI;IAAEC,EAAE;IAAEC;EAAM,CAAC,CAAC;EAC/C,IAAG;IACC,MAAMb,GAAG,GAAG,MAAMT,KAAK,CAAC6B,IAAI,CAAC,kBAAkB,EAAEH,IAAI,EAAEF,MAAM,CAAC;IAC9DhB,QAAQ,CAAC;MACLG,IAAI,EAAEN,gBAAgB;MACtBO,OAAO,EAAEH,GAAG,CAACI;IACjB,CAAC,CAAC;IACFU,OAAO,CAACO,IAAI,CAAC,UAAU,CAAC;IACxBC,KAAK,CAAC,GAAGtB,GAAG,CAACI,IAAI,EAAE,CAAC;EACxB,CAAC,QAAMC,KAAK,EAAC;IACTN,QAAQ,CAAC;MACLG,IAAI,EAAEL,cAAc;MACpBM,OAAO,EAAE;QAAEG,GAAG,EAAED,KAAK,CAACG,QAAQ,CAACe,UAAU;QAAEhB,MAAM,EAAEF,KAAK,CAACG,QAAQ,CAACD;MAAO;IAC7E,CAAC,CAAC;EACN;AAEJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}